╔══════════════════════════════════════════════════════════════╗
║  🚀 DEPLOY НА НОВЫЙ СЕРВЕР 84.54.31.86 (BEGET VPS)         ║
╚══════════════════════════════════════════════════════════════╝

📍 СЕРВЕР: root@84.54.31.86 (Beget VPS - чистая установка)

═════════════════════════════════════════════════════════════════

🔥 БЫСТРЫЙ DEPLOY (3 КОМАНДЫ):

1️⃣ Подключитесь:
   
   ssh root@84.54.31.86


2️⃣ Скачайте и запустите скрипт:

   wget https://raw.githubusercontent.com/chechulinalexander-wq/PARFUME-VISUAL/master/deploy_to_84.54.31.86.sh
   chmod +x deploy_to_84.54.31.86.sh
   bash deploy_to_84.54.31.86.sh


3️⃣ Введите API ключи когда попросит:

   OpenAI API Key: [ваш ключ]
   Replicate API Token: [ваш токен]
   Telegram Bot Token: [ваш токен]
   Telegram Channel ID: -1003207484793


4️⃣ Откройте в браузере:

   http://84.54.31.86

═════════════════════════════════════════════════════════════════

📝 ПОДГОТОВЬТЕ API КЛЮЧИ:

   OPENAI_API_KEY=sk-proj-...
   REPLICATE_API_TOKEN=r8_...
   TELEGRAM_BOT_TOKEN=...
   TELEGRAM_CHANNEL_ID=-1003207484793

═════════════════════════════════════════════════════════════════

✨ ЧТО БУДЕТ УСТАНОВЛЕНО:

   ✓ Ubuntu system update
   ✓ Python 3 + venv
   ✓ Nginx (reverse proxy)
   ✓ Supervisor (process manager)
   ✓ Gunicorn (WSGI server)
   ✓ SQLite database
   ✓ Perfume Visual Generator app
   ✓ UFW firewall
   ✓ AI image/video generation
   ✓ Telegram integration

═════════════════════════════════════════════════════════════════

⏱️ ВРЕМЯ: 5-10 минут

═════════════════════════════════════════════════════════════════

🔍 ПРОВЕРКА ПОСЛЕ ДЕПЛОЯ:

   # Статус приложения
   supervisorctl status perfume-visual
   
   # Логи
   tail -f /var/log/perfume-visual/error.log
   
   # HTTP ответ
   curl -I http://localhost:8080

═════════════════════════════════════════════════════════════════

🛠️ УПРАВЛЕНИЕ:

   # Перезапуск
   supervisorctl restart perfume-visual
   
   # Остановка
   supervisorctl stop perfume-visual
   
   # Запуск
   supervisorctl start perfume-visual
   
   # Обновление кода
   cd /opt/perfume-visual
   git pull origin master
   supervisorctl restart perfume-visual

═════════════════════════════════════════════════════════════════

📊 СТРУКТУРА:

   Приложение: /opt/perfume-visual
   Логи:       /var/log/perfume-visual
   База:       /opt/perfume-visual/fragrantica_news.db
   Порты:      80 (Nginx) → 8080 (Gunicorn)

═════════════════════════════════════════════════════════════════

🔥 ВОЗМОЖНЫЕ ПРОБЛЕМЫ:

   1. Git "dubious ownership":
      chown -R root:root /opt/perfume-visual
      git config --global --add safe.directory /opt/perfume-visual
   
   2. Порт 8080 занят:
      lsof -i :8080
      kill -9 <PID>
   
   3. Nginx 502:
      supervisorctl restart perfume-visual
      systemctl restart nginx

═════════════════════════════════════════════════════════════════

📚 ДОКУМЕНТАЦИЯ:

   - DEPLOY_NEW_SERVER.md    (полная инструкция)
   - DEPLOYMENT_GUIDE.md     (общее руководство)
   - DEPLOY_MANUAL.md        (ручной деплой)

═════════════════════════════════════════════════════════════════

🎯 ПОСЛЕ ДЕПЛОЯ:

   ✅ Откройте: http://84.54.31.86
   ✅ Должен быть: Perfume Visual Generator
   ✅ Секция: AI Processing Prompts
   ✅ Таблица: Randewoo Products
   ✅ Кнопка: 💾 Save Settings

═════════════════════════════════════════════════════════════════

🌐 ДВА СЕРВЕРА:

   62.113.106.10 - старое приложение (заменить)
   84.54.31.86   - новый сервер (чистая установка) ⭐

═════════════════════════════════════════════════════════════════

🎉 ГОТОВО К ДЕПЛОЮ!

   GitHub: https://github.com/chechulinalexander-wq/PARFUME-VISUAL

═════════════════════════════════════════════════════════════════

